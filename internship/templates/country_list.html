{% extends "base.html" %}
{% load thumbnail %}
<title>
  {% block title %}
    The list of countries
  {% endblock %}
</title>

{% block content %}
<body>
 <br>
    <div class="container">
    <div class="row">
    <div class="col-9">
     {% if countries %}
        <table class="table table-image display cell-border" id="country-table">
           <thead>
             <tr>
               <th scope="col">â„–</th>
               <th scope="col">Flag</th>
               <th scope="col">Country</th>
               <th scope="col">Population</th>
               <th scope="col">Country code ISO 3166</th>
               </tr>
           </thead>
            <tbody >
             {% for country in countries %}
              <tr>
                 <th scope="row"> {{ forloop.counter }}</th>
                  <td class="w-10">{% thumbnail country.flag "50x25" crop="center" upscale=True as im %}
                            <img class="img-fluid img-thumbnail" src="{{ im.url }}">
                        {% endthumbnail %}</td>
                  <td ><a class="nav-link" href="{% url 'cities:city_list' country.name %}">{{ country }}</a></td>
                  <td >{{ country.population }}</td>
                   <td >{{ country.country_code }}</td>
              </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}
    </div></div></div>
{% block js %}
 <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>
    <script type="text/javascript">
         $(document).ready(function() {
            $('#country-table').DataTable({
                columnDefs: [
                    {
                        targets: "_all",
                        className: 'dt-center'
                    }
                ]
            } );
        });
    </script>
{% endblock js %}
</body>
{% endblock %}